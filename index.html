<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Nonton streaming Solo Leveling subtitle Indonesia kualitas HD 1080p, 720p, 480p dengan nyaman tanpa iklan pop-up!">
  <meta name="keywords" content="Nonton anime, Solo Leveling, Streaming anime sub indo, anime terbaru">
  <title>NimeStream - Streaming Anime</title>
  <style>
    body { background-color: #121212; color: white; font-family: Arial, sans-serif; margin: 0; padding: 0; }
    .container { max-width: 1100px; margin: auto; padding: 20px; }
    .header { text-align: center; font-size: 28px; font-weight: bold; margin-bottom: 20px; }
    .season-selector { text-align: center; margin-bottom: 20px; }
    .season-selector button {
      background: #333;
      color: white;
      border: none;
      padding: 10px 20px;
      margin: 0 5px;
      border-radius: 5px;
      cursor: pointer;
      transition: 0.3s;
    }
    .season-selector button.active, .season-selector button:hover {
      background: #ff4500;
    }
    .season-info { text-align: center; margin-bottom: 20px; }
    .season-info img { width: 100%; max-width: 600px; border-radius: 10px; margin-bottom: 10px; }
    .video-container { text-align: center; }
    .episode-nav { display: flex; justify-content: space-between; margin-top: 10px; }
    .btn { background: #ff4500; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; transition: 0.3s ease-in-out; }
    .btn:hover { background: #ff5722; }
    .anime-details { display: flex; flex-wrap: wrap; gap: 20px; margin-top: 20px; }
    .anime-image img { width: 200px; border-radius: 10px; }
    .anime-info { flex-grow: 1; }
    .rating { background: #222; padding: 10px; border-radius: 5px; display: inline-block; }
    .search-box { margin: 20px 0; text-align: center; }
    .search-box input { padding: 10px; width: 80%; max-width: 400px; border-radius: 5px; border: none; }
    .episode-list { margin-top: 20px; display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
    .episode-list a { background: #333; color: white; text-decoration: none; padding: 10px 15px; border-radius: 5px; transition: 0.3s ease-in-out; }
    .episode-list a:hover, .episode-list a.active { background: #ff4500; transform: scale(1.05); }
    .video-container iframe { width: 100%; max-width: 900px; height: 506px; border: none; }
    .resume-btn { display: block; margin: 20px auto; background: #28a745; color: white; padding: 10px 20px; text-align: center; border-radius: 5px; text-decoration: none; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">NimeStream - Streaming Anime</div>
    
    <!-- Informasi dasar anime (umum) -->
    <div class="anime-details">
      <div class="anime-image">
        <img src="https://raw.githubusercontent.com/Msnewbee/NimeStream-/352f2dc133b07f0d6384f7cccd6b34a9274db82a/solo-leveling.jpg.jpg" alt="Solo Leveling Poster" loading="lazy">
      </div>
      <div class="anime-info">
        <h2>Ore dake Level Up na Ken [Solo Leveling] Sub Indo</h2>
        <p><strong>Genre:</strong> Aksi, Fantasi, Isekai, Petualangan</p>
        <p><strong>Studio:</strong> A-1 Pictures</p>
        <div class="rating">‚≠ê 8.39</div>
      </div>
    </div>
    
    <!-- Selector Season -->
    <div class="season-selector">
      <button id="btn-s1" class="active">Season 1</button>
      <button id="btn-s2">Season 2</button>
    </div>
    
    <!-- Informasi Season (akan berubah sesuai season yang dipilih) -->
    <div class="season-info" id="season-info">
      <!-- Season 1 info default -->
      <h3>Season 1</h3>
      <p>Episode: 12 Episode (S1) | Rilis: Januari ‚Äì Maret 2024</p>
    </div>
    
    <!-- Tombol Resume Episode -->
    <a id="resume-episode" class="resume-btn" href="#">üîÑ Lanjutkan Episode Terakhir</a>
    
    <!-- Pemutar Video -->
    <div class="video-container">
      <iframe id="anime-player" allowfullscreen loading="lazy"></iframe>
    </div>
    
    <!-- Navigasi Episode Sebelumnya/ Berikutnya -->
    <div class="episode-nav">
      <a id="prev-episode" href="#" class="btn">‚óÄ Episode Sebelumnya</a>
      <a id="next-episode" href="#" class="btn">Episode Berikutnya ‚ñ∂</a>
    </div>
    
    <h2>Daftar Episode</h2>
    <div class="search-box">
      <input type="text" id="search-episode" placeholder="Cari episode...">
    </div>
    <div class="episode-list" id="episode-list"></div>
  </div>
  
  <script>
    // Episode links untuk Season 1
    var episodeLinks_S1 = {
      '1': 'https://mega.nz/embed/wVQESDiL#rWrzrxNp6Ip17-s-dICc2iaMr73T5Pic5Ep563F3vlY!1a',
      '2': 'https://mega.nz/embed/gA5VnRBL#7RQII5KdmoV-Tj4OwaBOJ3ncg7q70Et7K86OE4WLPA0!1a',
      '3': 'https://mega.nz/embed/9d43yZgA#JfeYXtCuhCNDbxejLHRDkeTdW3nRK1Xz5RC1sAowfL4!1a',
      '4': 'https://mega.nz/embed/5UQCmIYR#4Lsgd_7srCe5I40zUoAqYruTYSkh6RumVAOocKoD5-g!1a',
      '5': 'https://mega.nz/embed/sEwWjTwZ#MJwYHtqIN7hp_yXCqeIyqACGZtIOVZ-YrKeoGesmBpA!1a',
      '6': 'https://mega.nz/embed/hYxzCLBQ#hfwORuSgBA7kw5_YDlqNQf-YPJhuCbc08jzzzRHQXgA!1a',
      '7': 'https://mega.nz/embed/xYxjCCKK#IXwLYHqhopYbAH6VZ4Vv-9RxuoE0OTBgB5VkZicwJA!1a',
      '8': 'https://mega.nz/embed/cdAzCbzY#I5LwEY-QLsk6XkgJ4Fd_fWE403R_wZV6t-lOGb5-lQM!1a',
      '9': 'https://mega.nz/embed/5VxjxJ7A#mOLObws05S43C2hxxoiCAJqkJs-O3ro1LIXdoMP9xeo!1a',
      '10': 'https://mega.nz/embed/Mcp3jbJI#bwfSBck90h_u0X050bXrQF5k7KZVnNR4hY_1HN4EaNI!1a',
      '11': 'https://mega.nz/embed/4N5mTQyZ#1P2XC3_DohVFY_d1wpR80Zf1U0ORhXwX7wG7298rSg0!1a',
      '12': 'https://mega.nz/embed/BZpjALxA#9Bl_75xizjLGer-xbb9m8qMLbufl10ChJK9Y7JhFmwc!1a'
    };
    
    // Episode links untuk Season 2 (placeholder links)
    var episodeLinks_S2 = {
      '1': 'https://mega.nz/embed/s2_ep1',
      '2': 'https://mega.nz/embed/s2_ep2',
      '3': 'https://mega.nz/embed/s2_ep3',
      '4': 'https://mega.nz/embed/s2_ep4',
      '5': 'https://mega.nz/embed/s2_ep5',
      '6': 'https://mega.nz/embed/s2_ep6',
      '7': 'https://mega.nz/embed/s2_ep7',
      '8': 'https://mega.nz/embed/s2_ep8',
      '9': 'https://mega.nz/embed/s2_ep9',
      '10': 'https://mega.nz/embed/s2_ep10',
      '11': 'https://mega.nz/embed/s2_ep11',
      '12': 'https://mega.nz/embed/s2_ep12',
      '13': 'https://mega.nz/embed/s2_ep13'
    };
    
    // Variabel untuk season saat ini (default Season 1)
    var currentSeason = 'S1';
    
    // Fungsi untuk memuat daftar episode berdasarkan season
    function loadEpisodeList() {
      let listContainer = document.getElementById("episode-list");
      listContainer.innerHTML = ''; // Kosongkan daftar sebelumnya
      let links = (currentSeason === 'S1') ? episodeLinks_S1 : episodeLinks_S2;
      Object.keys(links).forEach(num => {
        let link = document.createElement("a");
        link.href = `?season=${currentSeason}&episode=${num}`;
        link.textContent = `${(currentSeason==='S1') ? 'S1' : 'S2'} - Episode ${num}`;
        link.dataset.episode = num;
        listContainer.appendChild(link);
      });
    }
    
    // Fungsi untuk mendapatkan parameter URL
    function getQueryParam(param) {
      const params = new URLSearchParams(window.location.search);
      return params.get(param);
    }
    
    // Fungsi untuk memberikan highlight pada episode yang aktif
    function setActiveEpisode(episode) {
      document.querySelectorAll(".episode-list a").forEach(link => {
        if (link.dataset.episode === episode) {
          link.classList.add("active");
        } else {
          link.classList.remove("active");
        }
      });
    }
    
    // Fungsi untuk memuat episode berdasarkan parameter dan season saat ini
    function loadEpisode(episode) {
      let links = (currentSeason === 'S1') ? episodeLinks_S1 : episodeLinks_S2;
      var player = document.getElementById("anime-player");
      player.src = links[episode] || links['1'];
      setActiveEpisode(episode);
      // Simpan season dan episode terakhir di localStorage
      localStorage.setItem("lastSeason", currentSeason);
      localStorage.setItem("lastEpisode", episode);
    }
    
    // Setup navigasi (prev/next) dan resume
    function setupNavigation() {
      let totalEpisodes = (currentSeason === 'S1') ? Object.keys(episodeLinks_S1).length : Object.keys(episodeLinks_S2).length;
      let currentEpisode = getQueryParam("episode") || localStorage.getItem("lastEpisode") || '1';
      loadEpisode(currentEpisode);
    
      document.getElementById("prev-episode").href = `?season=${currentSeason}&episode=${Math.max(1, parseInt(currentEpisode) - 1)}`;
      document.getElementById("next-episode").href = `?season=${currentSeason}&episode=${Math.min(totalEpisodes, parseInt(currentEpisode) + 1)}`;
    
      // Resume button
      document.getElementById("resume-episode").addEventListener("click", function(e) {
        e.preventDefault();
        let lastSeason = localStorage.getItem("lastSeason") || 'S1';
        let lastEp = localStorage.getItem("lastEpisode") || '1';
        window.location.search = `?season=${lastSeason}&episode=${lastEp}`;
      });
    }
    
    // Fungsi untuk mengupdate informasi season
    function updateSeasonInfo() {
      let infoDiv = document.getElementById("season-info");
      if (currentSeason === 'S1') {
        infoDiv.innerHTML = `<h3>Season 1</h3>
          <p>Episode: 12 Episode (S1) | Rilis: Januari ‚Äì Maret 2024</p>`;
      } else {
        // Informasi untuk Season 2 dengan gambar embed
        infoDiv.innerHTML = `<h3>Season 2: Arise from the Shadow</h3>
          <img src="https://sololeveling-anime.net/assets/img/top/kv_shun.png" alt="Season 2 Key Visual" loading="lazy">
          <p>Episode: 13 Episode (S2) | Premiere: 5 Januari 2025</p>
          <p>Opening: "Reawaker" oleh LiSA (feat. Felix dari Stray Kids) | Ending: "Un-Apex" oleh TK dari Ling Tosite Sigure</p>
          <p>Season 2 melanjutkan perjalanan Sung Jinwoo dengan kekuatan baru dan menghadapi ancaman baru, termasuk adaptasi arc Jeju Island.</p>`;
      }
    }
    
    // Event listener untuk season selector
    document.getElementById("btn-s1").addEventListener("click", function() {
      currentSeason = 'S1';
      document.getElementById("btn-s1").classList.add("active");
      document.getElementById("btn-s2").classList.remove("active");
      updateSeasonInfo();
      loadEpisodeList();
      setupNavigation();
    });
    
    document.getElementById("btn-s2").addEventListener("click", function() {
      currentSeason = 'S2';
      document.getElementById("btn-s2").classList.add("active");
      document.getElementById("btn-s1").classList.remove("active");
      updateSeasonInfo();
      loadEpisodeList();
      setupNavigation();
    });
    
    // Inisialisasi berdasarkan parameter URL (jika ada)
    (function init() {
      let seasonParam = getQueryParam("season");
      if (seasonParam && seasonParam.toUpperCase() === "S2") {
        currentSeason = "S2";
        document.getElementById("btn-s2").classList.add("active");
        document.getElementById("btn-s1").classList.remove("active");
      }
      updateSeasonInfo();
      loadEpisodeList();
      setupNavigation();
    })();
  </script>
</body>
</html>
